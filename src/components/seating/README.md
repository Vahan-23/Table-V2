# Рефакторинг компонента ClientSeatingArrangement

## Новая архитектура

### Структура файлов

```
src/components/seating/
├── SeatingContext.jsx          # Контекст для управления состоянием
├── useTranslations.js          # Хук для работы с переводами
├── useGroups.js               # Хук для работы с группами
├── useTables.js               # Хук для работы со столами
├── useFileUpload.js           # Хук для загрузки файлов
├── Header.jsx                 # Компонент заголовка
├── GroupsPanel.jsx            # Панель групп
├── PersonModal.jsx            # Модальное окно для работы с человеком
├── ClientSeatingApp.jsx       # Основной компонент приложения
└── README.md                  # Этот файл
```

### Основные улучшения

#### 1. **Разделение ответственности**
- **SeatingContext.jsx** - централизованное управление состоянием
- **useTranslations.js** - работа с переводами
- **useGroups.js** - логика работы с группами
- **useTables.js** - логика работы со столами
- **useFileUpload.js** - загрузка файлов

#### 2. **Управление состоянием**
- Использование `useReducer` вместо множественных `useState`
- Централизованное состояние в контексте
- Типизированные действия (ACTIONS)
- Автоматическое сохранение в localStorage

#### 3. **Компонентная архитектура**
- Каждый компонент отвечает за одну функцию
- Переиспользуемые хуки
- Модульная структура

#### 4. **Производительность**
- Мемоизация с помощью `useCallback` и `useMemo`
- Оптимизированные перерендеры
- Разделение логики на хуки

### Использование

```jsx
import ClientSeatingApp from './seating/ClientSeatingApp';

// В вашем компоненте
const MyComponent = () => {
  return <ClientSeatingApp />;
};
```

### Преимущества новой архитектуры

1. **Читаемость** - код разделен на логические блоки
2. **Поддерживаемость** - легко найти и изменить нужную функциональность
3. **Тестируемость** - каждый хук можно тестировать отдельно
4. **Переиспользование** - хуки можно использовать в других компонентах
5. **Производительность** - оптимизированные перерендеры
6. **Масштабируемость** - легко добавлять новые функции

### Миграция

Для использования нового компонента:

1. Замените импорт:
```jsx
// Старый
import ClientSeatingArrangement from './ClientSeatingArrangement';

// Новый
import ClientSeatingArrangementRefactored from './ClientSeatingArrangementRefactored';
```

2. Функциональность остается полностью совместимой

### Состояние

Все состояния из оригинального компонента сохранены и работают точно так же:

- Загрузка планов зала
- Создание и управление группами
- Drag & drop групп на столы
- Рассадка гостей
- Мультиязычность (русский/армянский)
- Мобильная адаптация
- Zoom и навигация
- Сохранение в localStorage

### Следующие шаги

1. Добавить остальные модальные окна (создание групп, детали стола)
2. Добавить анимации и переходы
3. Улучшить мобильный интерфейс
4. Добавить тесты
5. Оптимизировать производительность 